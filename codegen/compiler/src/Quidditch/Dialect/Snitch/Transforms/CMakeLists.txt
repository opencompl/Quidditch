iree_tablegen_library(
        NAME
        PassesIncGen
        TD_FILE
        "Passes.td"
        OUTS
        -name=Transforms --gen-pass-decls Passes.h.inc
)

iree_cc_library(
        NAME
        Passes
        HDRS
        "Passes.h"
        "Passes.h.inc"
        SRCS
        "FormMicrokernels.cpp"
        "LowerForallOp.cpp"
        "LowerL1Allocations.cpp"
        "LowerPipelineOp.cpp"
        "PipelineCopyCompute.cpp"
        "PromoteToL1.cpp"
        "SpecializeDMACode.cpp"
        DEPS
        ::PassesIncGen
        Quidditch::Dialect::Snitch::IR::QuidditchSnitchDialect
        MLIRIR
        MLIRAffineDialect
        MLIRLinalgDialect
        MLIRBufferizationDialect
        iree::compiler::Dialect::HAL::IR
)
